import{A as h,B as p,C as y,D as l,E as g,F as d,H as C,I as $,J as b,y as m}from"./chunk-FXWHQ5QQ.js";import{Ba as f,Ca as w,Da as u,e as c,i as n}from"./chunk-3UZMSI2G.js";import{i as a}from"./chunk-VBFW7A5V.js";var x=(()=>{let e=class e{constructor(){this.toastController=n(u),this.alertController=n(f),this.loadingController=n(w)}showToast(t,o="success",r=3e3){return a(this,null,function*(){yield(yield this.toastController.create({message:t,duration:r,color:o,position:"top"})).present()})}showAlert(s,I){return a(this,arguments,function*(t,o,r=["OK"]){yield(yield this.alertController.create({header:t,message:o,buttons:r})).present()})}showConfirm(t,o){return a(this,null,function*(){return new Promise(r=>a(this,null,function*(){yield(yield this.alertController.create({header:t,message:o,buttons:[{text:"Cancelar",role:"cancel",handler:()=>r(!1)},{text:"Confirmar",handler:()=>r(!0)}]})).present()}))})}showLoading(t="Carregando..."){return a(this,null,function*(){this.loading=yield this.loadingController.create({message:t,spinner:"crescent"}),yield this.loading.present()})}hideLoading(){return a(this,null,function*(){this.loading&&(yield this.loading.dismiss())})}showError(t,o){return a(this,null,function*(){console.error("Erro:",o),yield this.showToast(t,"danger",5e3)})}showSuccess(t){return a(this,null,function*(){yield this.showToast(t,"success")})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var P=(()=>{let e=class e{constructor(){this.firestore=n(m)}obterTodos(t){console.log(`\u{1F50D} Buscando todos os documentos de: ${t}`);try{let o=l(this.firestore,t);return h(o,{idField:"id"})}catch(o){throw console.error(`\u274C Erro em obterTodos para ${t}:`,o),o}}obterPorId(t,o){let r=d(this.firestore,`${t}/${o}`);return p(r,{idField:"id"})}obterComFiltro(t,o,r){let s=l(this.firestore,t),I=C(s,b(o,"==",r));return h(I,{idField:"id"})}adicionar(t,o){return a(this,null,function*(){console.log(`\u2795 Adicionando documento em ${t}:`,o);try{let r=l(this.firestore,t),s=yield y(r,o);return console.log(`\u2705 Documento adicionado com ID: ${s.id}`),s.id}catch(r){throw console.error(`\u274C Erro ao adicionar documento em ${t}:`,r),r}})}atualizar(t,o,r){return a(this,null,function*(){let s=d(this.firestore,`${t}/${o}`);yield $(s,r)})}excluir(t,o){return a(this,null,function*(){let r=d(this.firestore,`${t}/${o}`);yield g(r)})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();export{P as a,x as b};
